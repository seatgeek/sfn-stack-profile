---
profile: profile_spec

environment_compile_parameters:
  - environment

environment_parameters:
  - environment

role_parameters:
  - class
  - service

version_parameters:
  - version_param

default:
  template: default_template
  compile_parameters:
    subnet_zone: private
    availability_zones: 3
    parameters:
      instance_type: m4.4xlarge
      service: default-service
      min_instances: 3
      max_instances: 100
    tags:
      team: testers
    ingress_rules:
      docker_all:
        proto: -1
        from_port: 0
        to_port: 65535
      classic_link:
        proto: -1
        from_port: 0
        to_port: 65535
        cidr_ip: 10.0.0.0/8

# Environment Overrides
env_1:
  compile_parameters:
    availability_zones: 4
    parameters:
      tld: env1
      apply_stacks:
        - env1_vpc

env_2:
  template: override_template
  parameters:
      tld: env2
      apply_stacks:
        - env2_vpc

role:
  parameters:
    service: role-service
