---
profile: spec_profile

environment_compile_parameters:
  - environment

environment_parameters:
  - environment

role_parameters:
  - class
  - service

version_parameters:
  - version

default:
  template: default_template
  compile_parameters:
    subnet_zone: private
    availability_zones: 3
  parameters:
    instance_type: m4.4xlarge
    service: default-service
    min_instances: 3
    max_instances: 100
  tags:
    team: testers

# Environment Overrides
env_1:
  compile_parameters:
    availability_zones: 4
  parameters:
    tld: env1
  apply_stacks:
    - env1_vpc

env_2:
  template: override_template
  parameters:
    tld: env2
  apply_stacks:
    - env2_vpc

role:
  parameters:
    max_instances: 5

meta:
  rotate_count: 1
  rotate_wait_seconds: 300
  updates_allowed: true
  template_update_allowed: true
  always_update_template: false
  default_ttl: 7
